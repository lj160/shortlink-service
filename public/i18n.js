const translations = {
  'en': {
    'generatorTitle': 'Short Link Generator',
    'longUrlPlaceholder': 'Enter long link, e.g., https://...',
    'generateButton': 'Generate Short Link',
    'resultPrefix': 'Short Link:',
    'errorMissingUrl': 'Please enter a URL to shorten!',
    'errorGenerationFailed': 'Failed to generate: ',
    'errorRequestFailed': 'Request failed, please try again!',
    'unknownError': 'Unknown error',

    'redirectTitle': 'Redirecting...',
    'redirectConfirm': 'Please confirm the destination link, then click the button below to proceed:',
    'redirectButton': 'Go to destination website',
    'redirectErrorNotFound': 'Destination link not found.',
    'redirectErrorFetchFailed': 'Failed to fetch destination link.'
  },
  'zh-CN': {
    'generatorTitle': '短链接生成器',
    'longUrlPlaceholder': '请输入长链接，如：https://...',
    'generateButton': '生成短链接',
    'resultPrefix': '短链接：',
    'errorMissingUrl': '请输入要转换的长链接！',
    'errorGenerationFailed': '生成失败：',
    'errorRequestFailed': '请求失败，请重试！',
    'unknownError': '未知错误',

    'redirectTitle': '中转页面',
    'redirectConfirm': '请确认目标链接，点击下方按钮跳转：',
    'redirectButton': '跳转到目标网站',
    'redirectErrorNotFound': '未找到目标链接',
    'redirectErrorFetchFailed': '获取目标链接失败'
  },
  'es': {
    'generatorTitle': 'Generador de enlaces cortos',
    'longUrlPlaceholder': 'Ingrese el enlace largo, ej., https://...',
    'generateButton': 'Generar enlace corto',
    'resultPrefix': 'Enlace corto:',
    'errorMissingUrl': '¡Por favor, ingrese una URL para acortar!',
    'errorGenerationFailed': 'Fallo al generar: ',
    'errorRequestFailed': '¡La solicitud falló, por favor intente de nuevo!',
    'unknownError': 'Error desconocido',
    'redirectTitle': 'Redirigiendo...',
    'redirectConfirm': 'Por favor, confirme el enlace de destino, luego haga clic en el botón de abajo para continuar:',
    'redirectButton': 'Ir al sitio web de destino',
    'redirectErrorNotFound': 'Enlace de destino no encontrado.',
    'redirectErrorFetchFailed': 'Fallo al obtener el enlace de destino.'
  },
  'ar': {
    'generatorTitle': 'مولد الروابط القصيرة',
    'longUrlPlaceholder': 'أدخل الرابط الطويل، مثال: https://...',
    'generateButton': 'إنشاء رابط قصير',
    'resultPrefix': 'الرابط القصير:',
    'errorMissingUrl': 'الرجاء إدخال رابط لتقصيره!',
    'errorGenerationFailed': 'فشل الإنشاء: ',
    'errorRequestFailed': 'فشل الطلب، يرجى المحاولة مرة أخرى!',
    'unknownError': 'خطأ غير معروف',
    'redirectTitle': 'إعادة توجيه...',
    'redirectConfirm': 'يرجى تأكيد رابط الوجهة، ثم انقر على الزر أدناه للمتابعة:',
    'redirectButton': 'الذهاب إلى موقع الوجهة',
    'redirectErrorNotFound': 'لم يتم العثور على رابط الوجهة.',
    'redirectErrorFetchFailed': 'فشل في جلب رابط الوجهة.'
  },
  'hi': {
    'generatorTitle': 'शॉर्ट लिंक जेनरेटर',
    'longUrlPlaceholder': 'लंबा लिंक दर्ज करें, जैसे, https://...',
    'generateButton': 'शॉर्ट लिंक बनाएं',
    'resultPrefix': 'शॉर्ट लिंक:',
    'errorMissingUrl': 'कृपया छोटा करने के लिए एक URL दर्ज करें!',
    'errorGenerationFailed': 'बनाने में विफल: ',
    'errorRequestFailed': 'अनुरोध विफल, कृपया पुनः प्रयास करें!',
    'unknownError': 'अज्ञात त्रुटि',
    'redirectTitle': 'रीडायरेक्ट कर रहा है...',
    'redirectConfirm': 'कृपया गंतव्य लिंक की पुष्टि करें, फिर आगे बढ़ने के लिए नीचे दिए गए बटन पर क्लिक करें:',
    'redirectButton': 'गंतव्य वेबसाइट पर जाएं',
    'redirectErrorNotFound': 'गंतव्य लिंक नहीं मिला।',
    'redirectErrorFetchFailed': 'गंतव्य लिंक प्राप्त करने में विफल।'
  },
  'fr': {
    'generatorTitle': 'Générateur de liens courts',
    'longUrlPlaceholder': 'Entrez le lien long, ex., https://...',
    'generateButton': 'Générer le lien court',
    'resultPrefix': 'Lien court:',
    'errorMissingUrl': 'Veuillez entrer une URL à raccourcir !',
    'errorGenerationFailed': 'Échec de la génération : ',
    'errorRequestFailed': 'La requête a échoué, veuillez réessayer !',
    'unknownError': 'Erreur inconnue',
    'redirectTitle': 'Redirection...',
    'redirectConfirm': 'Veuillez confirmer le lien de destination, puis cliquez sur le bouton ci-dessous pour continuer :',
    'redirectButton': 'Aller au site web de destination',
    'redirectErrorNotFound': 'Lien de destination non trouvé.',
    'redirectErrorFetchFailed': 'Échec de la récupération du lien de destination.'
  },
  'de': {
    'generatorTitle': 'Kurzlink-Generator',
    'longUrlPlaceholder': 'Langen Link eingeben, z.B. https://...',
    'generateButton': 'Kurzlink erstellen',
    'resultPrefix': 'Kurzlink:',
    'errorMissingUrl': 'Bitte geben Sie eine URL zum Kürzen ein!',
    'errorGenerationFailed': 'Erstellung fehlgeschlagen: ',
    'errorRequestFailed': 'Anfrage fehlgeschlagen, bitte versuchen Sie es erneut!',
    'unknownError': 'Unbekannter Fehler',
    'redirectTitle': 'Weiterleitung...',
    'redirectConfirm': 'Bitte bestätigen Sie den Ziellink und klicken Sie dann auf die Schaltfläche unten, um fortzufahren:',
    'redirectButton': 'Zur Ziel-Website gehen',
    'redirectErrorNotFound': 'Ziellink nicht gefunden.',
    'redirectErrorFetchFailed': 'Abrufen des Ziellinks fehlgeschlagen.'
  },
  'nl': {
    'generatorTitle': 'Korte Link Generator',
    'longUrlPlaceholder': 'Voer lange link in, bijv. https://...',
    'generateButton': 'Genereer Korte Link',
    'resultPrefix': 'Korte link:',
    'errorMissingUrl': 'Voer een URL in om in te korten!',
    'errorGenerationFailed': 'Genereren mislukt: ',
    'errorRequestFailed': 'Verzoek mislukt, probeer het opnieuw!',
    'unknownError': 'Onbekende fout',
    'redirectTitle': 'Omleiden...',
    'redirectConfirm': 'Bevestig de bestemmingslink en klik op de onderstaande knop om door te gaan:',
    'redirectButton': 'Ga naar de bestemmingswebsite',
    'redirectErrorNotFound': 'Bestemmingslink niet gevonden.',
    'redirectErrorFetchFailed': 'Ophalen van bestemmingslink mislukt.'
  },
  'it': {
    'generatorTitle': 'Generatore di link brevi',
    'longUrlPlaceholder': 'Inserisci il link lungo, es. https://...',
    'generateButton': 'Genera link breve',
    'resultPrefix': 'Link breve:',
    'errorMissingUrl': 'Inserisci un URL da abbreviare!',
    'errorGenerationFailed': 'Generazione fallita: ',
    'errorRequestFailed': 'Richiesta fallita, riprova!',
    'unknownError': 'Errore sconosciuto',
    'redirectTitle': 'Reindirizzamento...',
    'redirectConfirm': 'Conferma il link di destinazione, quindi fai clic sul pulsante qui sotto per procedere:',
    'redirectButton': 'Vai al sito di destinazione',
    'redirectErrorNotFound': 'Link di destinazione non trovato.',
    'redirectErrorFetchFailed': 'Recupero del link di destinazione fallito.'
  },
  'fa': {
    'generatorTitle': 'تولید کننده لینک کوتاه',
    'longUrlPlaceholder': 'لینک طولانی را وارد کنید، مثال: https://...',
    'generateButton': 'تولید لینک کوتاه',
    'resultPrefix': 'لینک کوتاه:',
    'errorMissingUrl': 'لطفا یک URL برای کوتاه کردن وارد کنید!',
    'errorGenerationFailed': 'تولید ناموفق بود: ',
    'errorRequestFailed': 'درخواست ناموفق بود، لطفا دوباره امتحان کنید!',
    'unknownError': 'خطای ناشناخته',
    'redirectTitle': 'در حال انتقال...',
    'redirectConfirm': 'لطفا لینک مقصد را تایید کنید، سپس برای ادامه روی دکمه زیر کلیک کنید:',
    'redirectButton': 'رفتن به وب سایت مقصد',
    'redirectErrorNotFound': 'لینک مقصد یافت نشد.',
    'redirectErrorFetchFailed': 'واکشی لینک مقصد ناموفق بود.'
  },
  'ur': {
    'generatorTitle': 'مختصر لنک بنانے والا',
    'longUrlPlaceholder': 'لمبا لنک درج کریں، مثال کے طور پر: https://...',
    'generateButton': 'مختصر لنک بنائیں',
    'resultPrefix': 'مختصر لنک:',
    'errorMissingUrl': 'براہ کرم مختصر کرنے کے لیے ایک یو آر ایل درج کریں!',
    'errorGenerationFailed': 'بنانے میں ناکام: ',
    'errorRequestFailed': 'درخواست ناکام ہوگئی، براہ کرم دوبارہ کوشش کریں!',
    'unknownError': 'نامعلوم خامی',
    'redirectTitle': 'ری ڈائریکٹ ہو رہا ہے...',
    'redirectConfirm': 'براہ کرم منزل کے لنک کی تصدیق کریں، پھر آگے بڑھنے کے لیے نیچے دیا گیا بٹن دبائیں:',
    'redirectButton': 'منزل کی ویب سائٹ پر جائیں',
    'redirectErrorNotFound': 'منزل کا لنک نہیں ملا۔',
    'redirectErrorFetchFailed': 'منزل کا لنک حاصل کرنے میں ناکام۔'
  },
  'pl': {
    'generatorTitle': 'Generator krótkich linków',
    'longUrlPlaceholder': 'Wprowadź długi link, np. https://...',
    'generateButton': 'Wygeneruj krótki link',
    'resultPrefix': 'Krótki link:',
    'errorMissingUrl': 'Wprowadź adres URL do skrócenia!',
    'errorGenerationFailed': 'Generowanie nie powiodło się: ',
    'errorRequestFailed': 'Żądanie nie powiodło się, spróbuj ponownie!',
    'unknownError': 'Nieznany błąd',
    'redirectTitle': 'Przekierowywanie...',
    'redirectConfirm': 'Potwierdź link docelowy, a następnie kliknij poniższy przycisk, aby kontynuować:',
    'redirectButton': 'Przejdź do strony docelowej',
    'redirectErrorNotFound': 'Nie znaleziono linku docelowego.',
    'redirectErrorFetchFailed': 'Pobieranie linku docelowego nie powiodło się.'
  },
  'uk': {
    'generatorTitle': 'Генератор коротких посилань',
    'longUrlPlaceholder': 'Введіть довге посилання, напр. https://...',
    'generateButton': 'Створити коротке посилання',
    'resultPrefix': 'Коротке посилання:',
    'errorMissingUrl': 'Будь ласка, введіть URL-адресу для скорочення!',
    'errorGenerationFailed': 'Не вдалося створити: ',
    'errorRequestFailed': 'Помилка запиту, спробуйте ще раз!',
    'unknownError': 'Невідома помилка',
    'redirectTitle': 'Перенаправлення...',
    'redirectConfirm': 'Будь ласка, підтвердьте посилання на призначення, а потім натисніть кнопку нижче, щоб продовжити:',
    'redirectButton': 'Перейти на веб-сайт призначення',
    'redirectErrorNotFound': 'Посилання на призначення не знайдено.',
    'redirectErrorFetchFailed': 'Не вдалося отримати посилання на призначення.'
  },
  'he': {
    'generatorTitle': 'מחולל קישורים קצרים',
    'longUrlPlaceholder': 'הזן קישור ארוך, לדוגמה: https://...',
    'generateButton': 'צור קישור קצר',
    'resultPrefix': 'קישור קצר:',
    'errorMissingUrl': 'אנא הזן כתובת URL לקיצור!',
    'errorGenerationFailed': 'היצירה נכשלה: ',
    'errorRequestFailed': 'הבקשה נכשלה, אנא נסה שוב!',
    'unknownError': 'שגיאה לא ידועה',
    'redirectTitle': 'מפנה מחדש...',
    'redirectConfirm': 'אנא אשר את קישור היעד, ולאחר מכן לחץ על הכפתור למטה כדי להמשיך:',
    'redirectButton': 'עבור לאתר היעד',
    'redirectErrorNotFound': 'קישור היעד לא נמצא.',
    'redirectErrorFetchFailed': 'הבאת קישור היעד נכשלה.'
  },
  'zgh': {
    'generatorTitle': 'Amsuddes n Yisghunen Uzzilen',
    'longUrlPlaceholder': 'Ssekcem asɣun aneggaru, amedya: https://...',
    'generateButton': 'Sker asɣun amezzyan',
    'resultPrefix': 'Asɣun amezzyan:',
    'errorMissingUrl': 'Ssekcem yiwen URL iwakken ad t-tessegzileḍ!',
    'errorGenerationFailed': 'Abruy n usker: ',
    'errorRequestFailed': 'Asuter yebber, ɛreḍ tikkelt nniḍen!',
    'unknownError': 'Abruy ur nettwassen ara',
    'redirectTitle': 'Ass yön yön...',
    'redirectConfirm': 'Ssenqed asɣun n wansi, umbeɛd senned ɣef teqfilt-a ddaw-as iwakken ad tkemmleḍ:',
    'redirectButton': 'Ddu ɣer usmel n wansi',
    'redirectErrorNotFound': 'Ur yufi ara asɣun n wansi.',
    'redirectErrorFetchFailed': 'Abruy deg ussiweḍ n usɣun n wansi.'
  },
  'ja': {
    'generatorTitle': '短縮リンク生成ツール',
    'longUrlPlaceholder': '長いリンクを入力してください（例：https://...）',
    'generateButton': '短縮リンクを生成',
    'resultPrefix': '短縮リンク：',
    'errorMissingUrl': '短縮するURLを入力してください！',
    'errorGenerationFailed': '生成に失敗しました：',
    'errorRequestFailed': 'リクエストに失敗しました。もう一度お試しください！',
    'unknownError': '不明なエラー',
    'redirectTitle': 'リダイレクト中...',
    'redirectConfirm': 'リンク先を確認し、下のボタンをクリックして続行してください：',
    'redirectButton': 'リンク先のウェブサイトに移動',
    'redirectErrorNotFound': 'リンク先が見つかりません。',
    'redirectErrorFetchFailed': 'リンク先の取得に失敗しました。'
  },
  'ko': {
    'generatorTitle': '단축 링크 생성기',
    'longUrlPlaceholder': '긴 링크를 입력하세요 (예: https://...)',
    'generateButton': '단축 링크 생성',
    'resultPrefix': '단축 링크:',
    'errorMissingUrl': '단축할 URL을 입력하세요!',
    'errorGenerationFailed': '생성 실패: ',
    'errorRequestFailed': '요청에 실패했습니다. 다시 시도해주세요!',
    'unknownError': '알 수 없는 오류',
    'redirectTitle': '리디렉션 중...',
    'redirectConfirm': '목적지 링크를 확인한 후 아래 버튼을 클릭하여 계속 진행하세요:',
    'redirectButton': '목적지 웹사이트로 이동',
    'redirectErrorNotFound': '목적지 링크를 찾을 수 없습니다.',
    'redirectErrorFetchFailed': '목적지 링크를 가져오는 데 실패했습니다.'
  },
  'eu': {
    'generatorTitle': 'Lotura laburren sortzailea',
    'longUrlPlaceholder': 'Sartu lotura luzea, adibidez: https://...',
    'generateButton': 'Sortu lotura laburra',
    'resultPrefix': 'Lotura laburra:',
    'errorMissingUrl': 'Mesedez, sartu URL bat laburtzeko!',
    'errorGenerationFailed': 'Errorea sortzean: ',
    'errorRequestFailed': 'Eskabideak huts egin du, saiatu berriro!',
    'unknownError': 'Errore ezezaguna',
    'redirectTitle': 'Birbideratzen...',
    'redirectConfirm': 'Mesedez, berretsi helmugako lotura eta egin klik beheko botoian jarraitzeko:',
    'redirectButton': 'Joan helmugako webgunera',
    'redirectErrorNotFound': 'Ez da helmugako loturarik aurkitu.',
    'redirectErrorFetchFailed': 'Errorea helmugako lotura eskuratzean.'
  },
  'sw': {
    'generatorTitle': 'Jenereta ya Viungo Fupi',
    'longUrlPlaceholder': 'Weka kiungo kirefu, k.m., https://...',
    'generateButton': 'Tengeneza Kiungo Fupi',
    'resultPrefix': 'Kiungo Fupi:',
    'errorMissingUrl': 'Tafadhali weka URL ya kufupisha!',
    'errorGenerationFailed': 'Imeshindwa kutengeneza: ',
    'errorRequestFailed': 'Ombi limeshindwa, tafadhali jaribu tena!',
    'unknownError': 'Hitilafu isiyojulikana',
    'redirectTitle': 'Inaelekeza...',
    'redirectConfirm': 'Tafadhali thibitisha kiungo cha marudio, kisha bofya kitufe hapa chini ili kuendelea:',
    'redirectButton': 'Nenda kwenye tovuti ya marudio',
    'redirectErrorNotFound': 'Kiungo cha marudio hakipatikani.',
    'redirectErrorFetchFailed': 'Imeshindwa kupata kiungo cha marudio.'
  },
  'pt': {
    'generatorTitle': 'Gerador de Links Curtos',
    'longUrlPlaceholder': 'Digite o link longo, ex.: https://...',
    'generateButton': 'Gerar Link Curto',
    'resultPrefix': 'Link Curto:',
    'errorMissingUrl': 'Por favor, digite uma URL para encurtar!',
    'errorGenerationFailed': 'Falha ao gerar: ',
    'errorRequestFailed': 'A solicitação falhou, tente novamente!',
    'unknownError': 'Erro desconhecido',
    'redirectTitle': 'Redirecionando...',
    'redirectConfirm': 'Por favor, confirme o link de destino e clique no botão abaixo para continuar:',
    'redirectButton': 'Ir para o site de destino',
    'redirectErrorNotFound': 'Link de destino não encontrado.',
    'redirectErrorFetchFailed': 'Falha ao buscar o link de destino.'
  },
  'tr': {
    'generatorTitle': 'Kısa Bağlantı Oluşturucu',
    'longUrlPlaceholder': 'Uzun bağlantıyı girin, örn: https://...',
    'generateButton': 'Kısa Bağlantı Oluştur',
    'resultPrefix': 'Kısa Bağlantı:',
    'errorMissingUrl': 'Lütfen kısaltmak için bir URL girin!',
    'errorGenerationFailed': 'Oluşturulamadı: ',
    'errorRequestFailed': 'İstek başarısız oldu, lütfen tekrar deneyin!',
    'unknownError': 'Bilinmeyen hata',
    'redirectTitle': 'Yönlendiriliyor...',
    'redirectConfirm': 'Lütfen hedef bağlantıyı onaylayın, ardından devam etmek için aşağıdaki düğmeyi tıklayın:',
    'redirectButton': 'Hedef web sitesine git',
    'redirectErrorNotFound': 'Hedef bağlantı bulunamadı.',
    'redirectErrorFetchFailed': 'Hedef bağlantı alınamadı.'
  },
  'ms': {
    'generatorTitle': 'Penjana Pautan Pendek',
    'longUrlPlaceholder': 'Masukkan pautan panjang, cth., https://...',
    'generateButton': 'Jana Pautan Pendek',
    'resultPrefix': 'Pautan Pendek:',
    'errorMissingUrl': 'Sila masukkan URL untuk dipendekkan!',
    'errorGenerationFailed': 'Gagal menjana: ',
    'errorRequestFailed': 'Permintaan gagal, sila cuba lagi!',
    'unknownError': 'Ralat tidak diketahui',
    'redirectTitle': 'Mengarahkan...',
    'redirectConfirm': 'Sila sahkan pautan destinasi, kemudian klik butang di bawah untuk meneruskan:',
    'redirectButton': 'Pergi ke laman web destinasi',
    'redirectErrorNotFound': 'Pautan destinasi tidak ditemui.',
    'redirectErrorFetchFailed': 'Gagal mendapatkan pautan destinasi.'
  },
  'bn': {
    'generatorTitle': 'সংক্ষিপ্ত লিঙ্ক জেনারেটর',
    'longUrlPlaceholder': 'দীর্ঘ লিঙ্ক প্রবেশ করান, যেমন, https://...',
    'generateButton': 'সংক্ষিপ্ত লিঙ্ক তৈরি করুন',
    'resultPrefix': 'সংক্ষিপ্ত লিঙ্ক:',
    'errorMissingUrl': 'অনুগ্রহ করে সংক্ষিপ্ত করার জন্য একটি URL প্রবেশ করান!',
    'errorGenerationFailed': 'জেনারেট করতে ব্যর্থ: ',
    'errorRequestFailed': 'অনুরোধ ব্যর্থ হয়েছে, অনুগ্রহ করে আবার চেষ্টা করুন!',
    'unknownError': 'অজানা ত্রুটি',
    'redirectTitle': 'পুনর্নির্দেশ করা হচ্ছে...',
    'redirectConfirm': 'অনুগ্রহ করে গন্তব্য লিঙ্কটি নিশ্চিত করুন, তারপর এগিয়ে যেতে নীচের বোতামে ক্লিক করুন:',
    'redirectButton': 'গন্তব্য ওয়েবসাইটে যান',
    'redirectErrorNotFound': 'গন্তব্য লিঙ্ক পাওয়া যায়নি।',
    'redirectErrorFetchFailed': 'গন্তব্য লিঙ্ক আনতে ব্যর্থ হয়েছে।'
  },
  'ru': {
    'generatorTitle': 'Генератор коротких ссылок',
    'longUrlPlaceholder': 'Введите длинную ссылку, например, https://...',
    'generateButton': 'Сгенерировать короткую ссылку',
    'resultPrefix': 'Короткая ссылка:',
    'errorMissingUrl': 'Пожалуйста, введите URL для сокращения!',
    'errorGenerationFailed': 'Не удалось сгенерировать: ',
    'errorRequestFailed': 'Запрос не удался, попробуйте еще раз!',
    'unknownError': 'Неизвестная ошибка',
    'redirectTitle': 'Перенаправление...',
    'redirectConfirm': 'Пожалуйста, подтвердите ссылку назначения, затем нажмите кнопку ниже, чтобы продолжить:',
    'redirectButton': 'Перейти на сайт назначения',
    'redirectErrorNotFound': 'Ссылка назначения не найдена.',
    'redirectErrorFetchFailed': 'Не удалось получить ссылку назначения.'
  }
};

// --- Language Detection and Application ---

// A list of RTL languages for applying CSS direction
const rtlLanguages = ['ar', 'fa', 'he', 'ur'];

function getLanguage() {
  // Get browser's primary language
  const lang = navigator.language || navigator.userLanguage;
  const primaryLang = lang.split('-')[0];

  // Map of language codes to use
  const langMap = {
    'zh': 'zh-CN', 'es': 'es', 'ar': 'ar', 'hi': 'hi', 'fr': 'fr', 'de': 'de', 'nl': 'nl', 'it': 'it',
    'fa': 'fa', 'ur': 'ur', 'pl': 'pl', 'uk': 'uk', 'he': 'he', 'zgh': 'zgh', 'ja': 'ja', 'ko': 'ko',
    'eu': 'eu', 'sw': 'sw', 'pt': 'pt', 'tr': 'tr', 'ms': 'ms', 'bn': 'bn', 'ru': 'ru'
  };

  if (langMap[primaryLang]) {
    return langMap[primaryLang];
  }
  // Special case for Chinese variants
  if (lang.toLowerCase() === 'zh-cn') return 'zh-CN';

  // Default to English if no match is found
  return 'en';
}

const currentLang = getLanguage();
const i18n = translations[currentLang] || translations['en'];

// --- Apply Translations and Styles ---

document.addEventListener('DOMContentLoaded', () => {
  // Apply RTL direction if needed
  if (rtlLanguages.includes(currentLang)) {
    document.documentElement.dir = 'rtl';
    document.documentElement.lang = currentLang;
  } else {
    document.documentElement.dir = 'ltr';
    document.documentElement.lang = currentLang;
  }

  // Translate static elements based on data-i18n-key attribute
  document.querySelectorAll('[data-i18n-key]').forEach(el => {
    const key = el.getAttribute('data-i18n-key');
    if (i18n[key]) {
      if (el.tagName === 'INPUT' && el.placeholder) {
        el.placeholder = i18n[key];
      } else {
        el.textContent = i18n[key];
      }
    }
  });

  // Translate the document title
  const titleKey = document.body.getAttribute('data-i18n-title-key');
  if (titleKey && i18n[titleKey]) {
      document.title = i18n[titleKey];
  }
}); 